test:
  service: Disk
  root: <%= Rails.root.join("tmp/storage") %>

local:
  service: Disk
  root: <%= Rails.root.join("storage") %>

# Fly/Tigris (keeps your current configuration)
# tigris:
#   service: S3
#   access_key_id: <%= ENV['TIGRIS_ACCESS_KEY_ID'] %>
#   secret_access_key: <%= ENV['TIGRIS_SECRET_ACCESS_KEY'] %>
#   region: auto
#   endpoint: <%= ENV['TIGRIS_ENDPOINT'] || 'https://fly.storage.tigris.dev' %>
#   force_path_style: true
#   bucket: <%= ENV['TIGRIS_BUCKET'] || 'visapro-storage' %>

# AWS S3 (for Railway, Heroku, etc.)
amazon:
  service: S3
  access_key_id: <%= ENV['AWS_ACCESS_KEY_ID'] %>
  secret_access_key: <%= ENV['AWS_SECRET_ACCESS_KEY'] %>
  region: <%= ENV['AWS_REGION'] || 'us-east-1' %>
  bucket: <%= ENV['AWS_S3_BUCKET'] %>
  endpoint: <%= ENV['AWS_S3_ENDPOINT'].presence %> # optional (for custom S3 providers)
  force_path_style: <%= ENV['AWS_FORCE_PATH_STYLE'] == 'true' %> # optional, default false
